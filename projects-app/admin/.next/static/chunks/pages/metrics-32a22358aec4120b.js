(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[41],{8803:function(n,i,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/metrics",function(){return t(7007)}])},8484:function(n,i,t){"use strict";t.d(i,{h:function(){return o}});var e=t(567);async function s(n){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=await fetch("http://localhost:3000"+n,(0,e._)({credentials:"include",headers:(0,e._)({"Content-Type":"application/json"},i.headers||{})},i)),s=await t.json().catch(()=>({}));if(!t.ok||(null==s?void 0:s.ok)===!1)throw Error(s.error||s.reason||"status_".concat(t.status));return s}let o={loginWithToken:n=>s("/api/admin/session-login",{method:"POST",body:JSON.stringify({token:n})}),loginWithPassword:(n,i)=>s("/api/admin/session-login",{method:"POST",body:JSON.stringify({email:n,password:i})}),whoami:()=>s("/api/admin/whoami"),logout:()=>s("/api/admin/logout"),metrics:()=>s("/api/admin-metrics")}},7007:function(n,i,t){"use strict";t.r(i),t.d(i,{default:function(){return c}});var e=t(5893),s=t(1758),o=t(1163),r=t(8484);let a=()=>r.h.metrics();function c(){let{data:n,error:i,isLoading:t,mutate:c}=(0,s.ZP)("/metrics",a),d=(0,o.useRouter)();return(0,e.jsxs)("div",{children:[(0,e.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[(0,e.jsx)("h2",{style:{margin:"8px 0"},children:"Admin Metrics"}),(0,e.jsx)("button",{onClick:()=>c(),style:{padding:"6px 10px"},children:"Refresh"}),(0,e.jsx)("button",{onClick:async()=>{await r.h.logout(),d.push("/login")},style:{padding:"6px 10px"},children:"Logout"})]}),t&&(0,e.jsx)("div",{children:"Loadingâ€¦"}),i&&(0,e.jsx)("div",{style:{color:"crimson"},children:String(i)}),n&&(0,e.jsx)("pre",{style:{background:"#f6f8fa",padding:12,borderRadius:8},children:JSON.stringify(n,null,2)})]})}}},function(n){n.O(0,[172,888,774,179],function(){return n(n.s=8803)}),_N_E=n.O()}]);